"use strict";!function(){var t,e,i,s,n,r,a,l;e=function(){class t{static load(e,i){var s;return null===(s=t.modelsCache[i])&&((s=new t).load(e,i),t.modelsCache[i]=s),s}load(e,i){return e.loadJson(i,i=>{var s,n,r,a,l,o,h;if(i){for(n in i)h=i[n],this[n]=h;if(this.images)for(n in a=this.images)s=a[n],this.images[n]=e.loadImage(s);if(this.models){for(n in o=[],l=this.models)r=l[n],o.push(this.models[n]=t.load(e,r));return o}}})}}return t.modelsCache=[],t}.call(void 0),i=.002,r={x:0,y:0,scale:1,apply:function(t){return t.transform(this.scale,0,this.sacle,0,this.x,this.y)}},n={rect:function(t){return t.rect(this.x||0,this.y||0,this.width,this.height)}},s=function(t){var e,i,r;if(this.visible=this.visible||!0,this.visible){if(t.save(),t.transform(this.scaleX||1,this.skewX||0,this.scaleY||1,this.skewY||0,this.origX||0,this.origY||0),this.angle&&t.rotate(this.angle),this.stroke&&(t.strokeStyle=this.stroke),this.fill&&(t.fillStyle=this.fill),this.lineWidth&&(t.lineWidth=this.lineWidth),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.type&&n[this.type].call(this,t),this.childs)for(i in r=this.childs)e=r[i],s.call(e,t);return t.restore()}},t=function(){class t{static transform(t,e,s,n){var a,l;return t-=a=n.x+n.canvas.width/2,e-=l=n.y+n.canvas.height/2,s=(500+s+n.z)*i,r.x=t*s+a,r.y=e*s+l,r.scale=s,r}constructor(t){this.data=t}setData(t){return this.data=t,this.setDirection(this.direction)}setDirection(t){return this.direction=t,this.data.dirs.lenght<this.direction&&(this.direction=0),this.model=this.data.dirs[this.direction]}draw2D(t){var e,i,n,r;if(this.model&&(r=this.model.root2D)){for(i in n=[],r)e=r[i],n.push(s.call(e,t));return n}}}return t.prototype.direction=0,t}.call(void 0),a=function(){class t{on(t,e){var i;if(e&&((i=this.handlers[t])||(this.handlers[t]=i=[]),i.indexOf(e)<0))return i.push(e)}off(t,e){var i,s;if(e&&(i=this.handlers[t])&&(s=i.indexOf(e))>=0)return i.splice(s,1)}trigger(t,e){var i,s,n,r,a;if(s=this.handlers[t]){for(a=[],n=0,r=s.length;n<r;n++)i=s[n],a.push(i.apply(this,e));return a}}removeEvent(t){return delete this.handlers[t]}}return t.prototype.handlers=[],t}.call(void 0),l=function(){var t,e;return e=0,t=0,class extends a{reset(){return e=t=0}getPercent(){return 1-(0!==t?e/t:0)}updatePercent(){return this.trigger("changepercent",[this.getPercent()])}load(i){var s;return s=this,e++,t++,function(){return null!=i&&i.apply(s,arguments),--e<=0&&(s.reset(),s.trigger("load")),s.updatePercent()}}loadJson(t,e){return e=this.load(e),$.getJSON(t+".json").done(e).fail((function(){return e(null)}))}loadImage(t,e){var i;return e=this.load(e),(i=new Image).onload((function(){return e(i)})),i.src=t,i}}}.call(void 0),$(document).ready((function(){var i,s,n,r,a,o,h,d,c;return s=document.getElementById("canvas"),n=s.getContext("2d",{alpha:!1}),(c=function(){return s.width=$(window).width(),s.height=$(window).height()-$("#canvas").offset().top})(),$(window).on("resize",c),"anims/test",r=new l,a=new t,o=null,i={canvas:s,g:n,x:0,y:0,z:0},h=function(){return(o=new e).load(r,"anims/test")},r.on("load",(function(){return a.setData(o)})),console.log(a),setInterval(h,500),(d=function(e){var r,l;return n.save(),l=s.width,r=s.height,n.fillStyle="#fff",n.fillRect(0,0,l,r),n.beginPath(),n.lineWidth=2,n.strokeStyle="#f00",n.moveTo(l/2,0),n.lineTo(l/2,r),n.moveTo(0,r/2),n.lineTo(l,r/2),n.stroke(),n.translate(l/2,r/2),t.transform(0,0,0,i).apply(n),a.draw2D(n),n.restore(),window.requestAnimationFrame(d)})(0)}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLmNvZmZlZSIsImV2ZW50cy5jb2ZmZWUiLCJsb2FkZXIuY29mZmVlIiwibWFpbi5jb2ZmZWUiXSwibmFtZXMiOlsiTW9kZWwiLCJNb2RlbERhdGEiLCJaX1RSQU5TRk9STSIsImRyYXdCb25lIiwiZHJhd1R5cGVPYmoiLCJ0cnNmT2JqIiwiRXZlbnRFbW1pdGVyIiwiTG9hZGVyIiwiW29iamVjdCBPYmplY3RdIiwibG9hZGVyIiwiZmlsZSIsIm1vZGVsIiwibW9kZWxzQ2FjaGUiLCJsb2FkIiwibG9hZEpzb24iLCJkYXRhIiwiaW1hZ2UiLCJrZXkiLCJyZWYiLCJyZWYxIiwicmVzdWx0cyIsInZhbHVlIiwidGhpcyIsImltYWdlcyIsImxvYWRJbWFnZSIsIm1vZGVscyIsIngiLCJ5Iiwic2NhbGUiLCJhcHBseSIsImciLCJ0cmFuc2Zvcm0iLCJzYWNsZSIsInJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImJvbmUiLCJ2aXNpYmxlIiwic2F2ZSIsInNjYWxlWCIsInNrZXdYIiwic2NhbGVZIiwic2tld1kiLCJvcmlnWCIsIm9yaWdZIiwiYW5nbGUiLCJyb3RhdGUiLCJzdHJva2UiLCJzdHJva2VTdHlsZSIsImZpbGwiLCJmaWxsU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJsaW5lRGFzaE9mZnNldCIsInR5cGUiLCJjYWxsIiwiY2hpbGRzIiwicmVzdG9yZSIsInoiLCJjYW1lcmEiLCJ4TCIsInlMIiwiY2FudmFzIiwiZGF0YTEiLCJzZXREaXJlY3Rpb24iLCJkaXJlY3Rpb24iLCJkaXJzIiwibGVuZ2h0Iiwicm9vdCIsInJvb3QyRCIsImV2ZW50IiwiY2FsbGJhY2siLCJoYW5kbGVyIiwiaGFuZGxlcnMiLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiYXJncyIsImkiLCJsZW4iLCJsZW5ndGgiLCJsb2FkUmVzTnVtYmVyIiwiYWxsUmVzTG9hZGVyIiwidHJpZ2dlciIsImdldFBlcmNlbnQiLCJfdGhpcyIsImFyZ3VtZW50cyIsInJlc2V0IiwidXBkYXRlUGVyY2VudCIsIiQiLCJnZXRKU09OIiwiZG9uZSIsImZhaWwiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsInNyYyIsImRvY3VtZW50IiwicmVhZHkiLCJjb250ZXh0IiwibW9kZWxEYXRhIiwibW9kZWxSZWZyZXNoIiwicmVuZGVyIiwicmVzaXplIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiYWxwaGEiLCJ3aW5kb3ciLCJvZmZzZXQiLCJ0b3AiLCJvbiIsInNldERhdGEiLCJjb25zb2xlIiwibG9nIiwic2V0SW50ZXJ2YWwiLCJkZWx0YSIsImgiLCJ3IiwiZmlsbFJlY3QiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJ0cmFuc2xhdGUiLCJkcmF3MkQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJ5QkFBQSxJQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQ0FBQyxFQ0FBQyxFRkFNTixFQUFBLFdBQU4sTUFBQUEsRUFHUU8sWUFBQ0MsRUFBUUMsT0FDZkMsU0FDWSxRQURaQSxFQUFRVixFQUFVVyxZQUFZRixPQUU3QkMsRUFBUSxJQUFJVixHQUNOWSxLQUFLSixFQUFRQyxHQUNuQlQsRUFBVVcsWUFBWUYsR0FBUUMsR0FDL0JBLEVBRURILEtBQU9DLEVBQVFDLFVBQ2RELEVBQU9LLFNBQVNKLEVBQU9LLFFBQ3RCQyxFQUFBQyxFQUFBTixFQUFBTyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBLEdBQUdOLEVBQUgsQ0FDQyxJQUFBRSxLQUFBRixTQUNDTyxLQUFLTCxHQUFPSSxFQUViLEdBQUdDLEtBQUNDLE9BQ0gsSUFBQU4sMEJBQ0NLLEtBQUNDLE9BQU9OLEdBQU9SLEVBQU9lLFVBQVVSLEdBRWxDLEdBQUdNLEtBQUNHLE9BQUosQ0FDQyxJQUFBUixzQ0FDQ0ssS0FBQ0csT0FBT1IsR0FBT2hCLEVBQVVZLEtBQUtKLEVBQVFFLHlCQXRCM0NWLEVBQUNXLFlBQWEsbUJBd0JmVixFQUFjLEtB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dkIvQixNQUFNd0UsR0FFUjFGLEVBQU1rSCxPQUFPeEIsR0FFYkEsRUFBUTNDLFVBRVJtRCxPQUFPaUIsc0JBQXNCdEIsS0FFdkIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE1vZGVsRGF0YVxyXG5cdEBtb2RlbHNDYWNoZTogW11cclxuXHJcblx0QGxvYWQ6IChsb2FkZXIsIGZpbGUpIC0+XHJcblx0XHRtb2RlbCA9IE1vZGVsRGF0YS5tb2RlbHNDYWNoZVtmaWxlXVxyXG5cdFx0aWYgbW9kZWwgPT0gbnVsbFxyXG5cdFx0XHRtb2RlbCA9IG5ldyBNb2RlbERhdGFcclxuXHRcdFx0bW9kZWwubG9hZCBsb2FkZXIsIGZpbGVcclxuXHRcdFx0TW9kZWxEYXRhLm1vZGVsc0NhY2hlW2ZpbGVdID0gbW9kZWxcclxuXHRcdG1vZGVsXHJcblxyXG5cdGxvYWQ6IChsb2FkZXIsIGZpbGUpIC0+XHJcblx0XHRsb2FkZXIubG9hZEpzb24gZmlsZSwgKGRhdGEpID0+XHJcblx0XHRcdGlmIGRhdGFcclxuXHRcdFx0XHRmb3Iga2V5LCB2YWx1ZSBvZiBkYXRhXHJcblx0XHRcdFx0XHR0aGlzW2tleV0gPSB2YWx1ZVxyXG5cclxuXHRcdFx0XHRpZiBAaW1hZ2VzXHJcblx0XHRcdFx0XHRmb3Iga2V5LCBpbWFnZSBvZiBAaW1hZ2VzXHJcblx0XHRcdFx0XHRcdEBpbWFnZXNba2V5XSA9IGxvYWRlci5sb2FkSW1hZ2UgaW1hZ2VcclxuXHJcblx0XHRcdFx0aWYgQG1vZGVsc1xyXG5cdFx0XHRcdFx0Zm9yIGtleSwgbW9kZWwgb2YgQG1vZGVsc1xyXG5cdFx0XHRcdFx0XHRAbW9kZWxzW2tleV0gPSBNb2RlbERhdGEubG9hZCBsb2FkZXIsIG1vZGVsXHJcblxyXG5aX1RSQU5TRk9STSA9IDAuMDAyXHJcblxyXG50cnNmT2JqID1cclxuXHR4OiAwXHJcblx0eTogMFxyXG5cdHNjYWxlOiAxXHJcblx0YXBwbHk6IChnKSAtPlxyXG5cdFx0Zy50cmFuc2Zvcm0gQHNjYWxlLCAwLCBAc2FjbGUsIDAsIEB4LCBAeVxyXG5cclxuZHJhd1R5cGVPYmogPVxyXG5cdHJlY3Q6IChnKSAtPlxyXG5cdFx0Zy5yZWN0IEB4IHx8IDAsIEB5IHx8IDAsIEB3aWR0aCwgQGhlaWdodFxyXG5cclxuZHJhd0JvbmUgPSAoZykgLT5cclxuXHRAdmlzaWJsZSA9IEB2aXNpYmxlIHx8IHRydWVcclxuXHRpZiBAdmlzaWJsZVxyXG5cdFx0Zy5zYXZlKClcclxuXHRcdGcudHJhbnNmb3JtIEBzY2FsZVggfHwgMSwgQHNrZXdYIHx8IDAsIEBzY2FsZVkgfHwgMSwgQHNrZXdZIHx8IDAsIEBvcmlnWCB8fCAwLCBAb3JpZ1kgfHwgMFxyXG5cdFx0aWYgQGFuZ2xlIHRoZW4gZy5yb3RhdGUgQGFuZ2xlXHJcblx0XHRpZiBAc3Ryb2tlIHRoZW4gZy5zdHJva2VTdHlsZSA9IEBzdHJva2VcclxuXHRcdGlmIEBmaWxsIHRoZW4gZy5maWxsU3R5bGUgPSBAZmlsbFxyXG5cdFx0aWYgQGxpbmVXaWR0aCB0aGVuIGcubGluZVdpZHRoID0gQGxpbmVXaWR0aFxyXG5cdFx0aWYgQGxpbmVDYXAgdGhlbiBnLmxpbmVDYXAgPSBAbGluZUNhcFxyXG5cdFx0aWYgQGxpbmVKb2luIHRoZW4gZy5saW5lSm9pbiA9IEBsaW5lSm9pblxyXG5cdFx0aWYgQGxpbmVEYXNoT2Zmc2V0IHRoZW4gZy5saW5lRGFzaE9mZnNldCA9IEBsaW5lRGFzaE9mZnNldFxyXG5cclxuXHRcdGlmIEB0eXBlIHRoZW4gZHJhd1R5cGVPYmpbQHR5cGVdLmNhbGwgdGhpcywgZ1xyXG5cclxuXHRcdGlmIEBjaGlsZHNcclxuXHRcdFx0Zm9yIGtleSwgYm9uZSBvZiBAY2hpbGRzXHJcblx0XHRcdFx0ZHJhd0JvbmUuY2FsbCBib25lLCBnXHJcblx0XHRnLnJlc3RvcmUoKVxyXG5cclxuY2xhc3MgTW9kZWxcclxuXHRAdHJhbnNmb3JtOiAoeCwgeSwgeiwgY2FtZXJhKSAtPlxyXG5cdFx0eEwgPSBjYW1lcmEueCArIGNhbWVyYS5jYW52YXMud2lkdGggLyAyXHJcblx0XHR5TCA9IGNhbWVyYS55ICsgY2FtZXJhLmNhbnZhcy5oZWlnaHQgLyAyXHJcblx0XHR4IC09IHhMXHJcblx0XHR5IC09IHlMXHJcblx0XHR6ID0gKDUwMCArIHogKyBjYW1lcmEueikgKiBaX1RSQU5TRk9STVxyXG5cdFx0dHJzZk9iai54ID0geCAqIHogKyB4TFxyXG5cdFx0dHJzZk9iai55ID0geSAqIHogKyB5TFxyXG5cdFx0dHJzZk9iai5zY2FsZSA9IHpcclxuXHRcdHRyc2ZPYmpcclxuXHJcblx0ZGlyZWN0aW9uOiAwXHJcblxyXG5cdGNvbnN0cnVjdG9yOiAoQGRhdGEpIC0+XHJcblxyXG5cdHNldERhdGE6IChAZGF0YSkgLT5cclxuXHRcdEBzZXREaXJlY3Rpb24gQGRpcmVjdGlvblxyXG5cclxuXHRzZXREaXJlY3Rpb246IChAZGlyZWN0aW9uKSAtPlxyXG5cdFx0aWYgQGRhdGEuZGlycy5sZW5naHQgPCBAZGlyZWN0aW9uXHJcblx0XHRcdEBkaXJlY3Rpb24gPSAwXHJcblx0XHRAbW9kZWwgPSBAZGF0YS5kaXJzW0BkaXJlY3Rpb25dXHJcblxyXG5cdGRyYXcyRDogKGcpIC0+XHJcblx0XHRpZiBAbW9kZWxcclxuXHRcdFx0cm9vdCA9IEBtb2RlbC5yb290MkRcclxuXHRcdFx0aWYgcm9vdFxyXG5cdFx0XHRcdGZvciBrZXksIGJvbmUgb2Ygcm9vdFxyXG5cdFx0XHRcdFx0ZHJhd0JvbmUuY2FsbCBib25lLCBnXHJcblxyXG5leHBvcnQgeyBNb2RlbERhdGEsIE1vZGVsIH0iLCJjbGFzcyBFdmVudEVtbWl0ZXJcclxuXHRoYW5kbGVyczogW11cclxuXHJcblx0b246IChldmVudCwgY2FsbGJhY2spIC0+XHJcblx0XHRpZiBjYWxsYmFja1xyXG5cdFx0XHRoYW5kbGVyID0gQGhhbmRsZXJzW2V2ZW50XVxyXG5cdFx0XHRpZiAhaGFuZGxlclxyXG5cdFx0XHRcdEBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyID0gW11cclxuXHRcdFx0aWYgaGFuZGxlci5pbmRleE9mKGNhbGxiYWNrKSA8IDBcclxuXHRcdFx0XHRoYW5kbGVyLnB1c2ggY2FsbGJhY2tcclxuXHJcblx0b2ZmOiAoZXZlbnQsIGNhbGxiYWNrKSAtPlxyXG5cdFx0aWYgY2FsbGJhY2tcclxuXHRcdFx0aGFuZGxlciA9IEBoYW5kbGVyc1tldmVudF1cclxuXHRcdFx0aWYgaGFuZGxlclxyXG5cdFx0XHRcdGluZGV4ID0gaGFuZGxlci5pbmRleE9mIGNhbGxiYWNrXHJcblx0XHRcdFx0aWYgaW5kZXggPj0gMFxyXG5cdFx0XHRcdFx0aGFuZGxlci5zcGxpY2UgaW5kZXgsIDFcclxuXHJcblx0dHJpZ2dlcjogKGV2ZW50LCBhcmdzKSAtPlxyXG5cdFx0aGFuZGxlciA9IEBoYW5kbGVyc1tldmVudF1cclxuXHRcdGlmIGhhbmRsZXJcclxuXHRcdFx0Zm9yIGNhbGxiYWNrIGluIGhhbmRsZXJcclxuXHRcdFx0XHRjYWxsYmFjay5hcHBseSB0aGlzLCBhcmdzXHJcblxyXG5cdHJlbW92ZUV2ZW50OiAoZXZlbnQpIC0+XHJcblx0XHRkZWxldGUgQGhhbmRsZXJzW2V2ZW50XVxyXG5cclxuZXhwb3J0IHsgRXZlbnRFbW1pdGVyIH0iLCJpbXBvcnQgeyBFdmVudEVtbWl0ZXIgfSBmcm9tICcuL2V2ZW50cydcclxuXHJcbiMgRXZlbnRzOlxyXG4jICdjaGFuZ2VwZXJjZW50JyB0cmlnZ2VyIHdoZW4gc29tZSByZXNvcmNlcyBsb2FkZWRcclxuIyAnbG9hZCcgdHJpZ2dlciB3aGVuIGFsbCByZXNvcmNlcyBsb2FkZWRcclxuXHJcbmNsYXNzIExvYWRlciBleHRlbmRzIEV2ZW50RW1taXRlclxyXG5cdGxvYWRSZXNOdW1iZXIgPSAwXHJcblx0YWxsUmVzTG9hZGVyID0gMFxyXG5cclxuXHRyZXNldDogKCkgLT5cclxuXHRcdGxvYWRSZXNOdW1iZXIgPSBhbGxSZXNMb2FkZXIgPSAwXHJcblxyXG5cdGdldFBlcmNlbnQ6IC0+XHJcblx0XHQxIC0gaWYgYWxsUmVzTG9hZGVyICE9IDAgdGhlbiBsb2FkUmVzTnVtYmVyIC8gYWxsUmVzTG9hZGVyIGVsc2UgMFxyXG5cclxuXHR1cGRhdGVQZXJjZW50OiAoKSAtPlxyXG5cdFx0QHRyaWdnZXIgJ2NoYW5nZXBlcmNlbnQnLCBbIEBnZXRQZXJjZW50KCkgXVxyXG5cclxuXHRsb2FkOiAoY2FsbGJhY2spIC0+XHJcblx0XHRfdGhpcyA9IHRoaXNcclxuXHRcdGxvYWRSZXNOdW1iZXIrK1xyXG5cdFx0YWxsUmVzTG9hZGVyKytcclxuXHRcdCMgQHVwZGF0ZVBlcmNlbnQoKVxyXG5cdFx0LT5cclxuXHRcdFx0Y2FsbGJhY2s/LmFwcGx5IF90aGlzLCBhcmd1bWVudHNcclxuXHRcdFx0bG9hZFJlc051bWJlci0tXHJcblx0XHRcdGlmIGxvYWRSZXNOdW1iZXIgPD0gMFxyXG5cdFx0XHRcdF90aGlzLnJlc2V0KClcclxuXHRcdFx0XHRfdGhpcy50cmlnZ2VyICdsb2FkJ1xyXG5cdFx0XHRfdGhpcy51cGRhdGVQZXJjZW50KClcclxuXHJcblx0bG9hZEpzb246IChmaWxlLCBjYWxsYmFjaykgLT5cclxuXHRcdGNhbGxiYWNrID0gQGxvYWQgY2FsbGJhY2tcclxuXHRcdCQuZ2V0SlNPTiBmaWxlICsgJy5qc29uJ1xyXG5cdFx0XHQuZG9uZSBjYWxsYmFja1xyXG5cdFx0XHQuZmFpbCAtPlxyXG5cdFx0XHRcdGNhbGxiYWNrIG51bGxcclxuXHJcblx0bG9hZEltYWdlOiAoZmlsZSwgY2FsbGJhY2spIC0+XHJcblx0XHRjYWxsYmFjayA9IEBsb2FkIGNhbGxiYWNrXHJcblx0XHRpbWcgPSBuZXcgSW1hZ2VcclxuXHRcdGltZy5vbmxvYWQgLT5cclxuXHRcdFx0Y2FsbGJhY2sgaW1nXHJcblx0XHRpbWcuc3JjID0gZmlsZVxyXG5cdFx0aW1nXHJcblxyXG5leHBvcnQgeyBMb2FkZXIgfSIsImltcG9ydCB7IE1vZGVsRGF0YSwgTW9kZWwgfSBmcm9tICcuL21vZGVsJ1xuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnLi9sb2FkZXInXG5cbiQoZG9jdW1lbnQpLnJlYWR5IC0+XG5cdGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICdjYW52YXMnXG5cdGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCAnMmQnLCBhbHBoYTogZmFsc2VcblxuXHRyZXNpemUgPSAtPlxuXHRcdGNhbnZhcy53aWR0aCA9ICQod2luZG93KS53aWR0aCgpXG5cdFx0Y2FudmFzLmhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtICQoJyNjYW52YXMnKS5vZmZzZXQoKS50b3BcblxuXHRyZXNpemUoKVxuXG5cdCQod2luZG93KS5vbiAncmVzaXplJywgcmVzaXplXG5cblx0bW9kZWxGaWxlID0gJ2FuaW1zL3Rlc3QnXG5cdGxvYWRlciA9IG5ldyBMb2FkZXJcblx0bW9kZWwgPSBuZXcgTW9kZWxcblx0bW9kZWxEYXRhID0gbnVsbFxuXHRjYW1lcmEgPVxuXHRcdGNhbnZhczogY2FudmFzXG5cdFx0ZzogY29udGV4dFxuXHRcdHg6IDBcblx0XHR5OiAwXG5cdFx0ejogMFxuXG5cdG1vZGVsUmVmcmVzaCA9IC0+XG5cdFx0bW9kZWxEYXRhID0gbmV3IE1vZGVsRGF0YVxuXHRcdG1vZGVsRGF0YS5sb2FkIGxvYWRlciwgbW9kZWxGaWxlXG5cdFxuXHRsb2FkZXIub24gJ2xvYWQnLCAtPlxuXHRcdG1vZGVsLnNldERhdGEgbW9kZWxEYXRhXG5cblx0Y29uc29sZS5sb2cgbW9kZWxcblxuXHRzZXRJbnRlcnZhbCBtb2RlbFJlZnJlc2gsIDUwMFxuXG5cdHJlbmRlciA9IChkZWx0YSkgLT5cblx0XHRjb250ZXh0LnNhdmUoKVxuXHRcdHcgPSBjYW52YXMud2lkdGhcblx0XHRoID0gY2FudmFzLmhlaWdodFxuXHRcdGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnXG5cdFx0Y29udGV4dC5maWxsUmVjdCAwLCAwLCB3LCBoXG5cdFx0Y29udGV4dC5iZWdpblBhdGgoKVxuXHRcdGNvbnRleHQubGluZVdpZHRoID0gMlxuXHRcdGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2YwMCdcblx0XHRjb250ZXh0Lm1vdmVUbyB3IC8gMiwgMFxuXHRcdGNvbnRleHQubGluZVRvIHcgLyAyLCBoXG5cdFx0Y29udGV4dC5tb3ZlVG8gMCwgaCAvIDJcblx0XHRjb250ZXh0LmxpbmVUbyB3LCBoIC8gMlxuXHRcdGNvbnRleHQuc3Ryb2tlKClcblxuXHRcdGNvbnRleHQudHJhbnNsYXRlIHcgLyAyLCBoIC8gMlxuXG5cdFx0TW9kZWwudHJhbnNmb3JtKDAsIDAsIDAsIGNhbWVyYSlcblx0XHRcdC5hcHBseSBjb250ZXh0XG5cblx0XHRtb2RlbC5kcmF3MkQgY29udGV4dFxuXG5cdFx0Y29udGV4dC5yZXN0b3JlKClcblx0XHQjIFxuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcmVuZGVyXG5cblx0cmVuZGVyKDApXG4iXX0=
